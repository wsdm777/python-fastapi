# ๐ FastAPI ะัะพะตะบั

ะญัะพั ะฟัะพะตะบั โ ััะตะฑะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ะฝะฐ FastAPI ั PostgreSQL, Redis ะธ SQLAlchemy.

## ๐ฆ ะกัะตะบ ัะตัะฝะพะปะพะณะธะน
- **FastAPI** โ ะฑัััััะน ะฒะตะฑ-ััะตะนะผะฒะพัะบ
- **PostgreSQL** โ ัะตะปััะธะพะฝะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Redis** โ ััะฐะฝะตะฝะธะต ัะตััะธะน
- **SQLAlchemy** โ ORM ะดะปั ัะฐะฑะพัั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั  (ะฐัะธะฝััะพะฝะฝะพะต ะฟะพะดะบะปััะตะฝะธะต ัะตัะตะท asyncpg)
- **Docker** โ ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั

## โ๏ธ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
```bash
git clone https://github.com/wsdm777/python-fastapi.git
cd python-fastapi
```

### 2. ะกะพะทะดะฐะฝะธะต `.env` ัะฐะนะปะฐ
ะกะพะทะดะฐะน `.env` ัะฐะนะป ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ ะธ ะดะพะฑะฐะฒั ะฒ ะฝะตะณะพ:
```ini
# ะะฝะตัะฝะธะน ะฟะพัั PostgreSQL
DB_EXPOSED_PORT=5432
# ะะผั ะฑะฐะทั ะดะฐะฝะฝัั
DB_NAME=postgres
# ะะพะปัะทะพะฒะฐัะตะปั ะฑะฐะทั ะดะฐะฝะฝัั
DB_USER=postgres
# ะะฐัะพะปั ะฟะพะปัะทะพะฒะฐัะตะปั ะฑะฐะทั ะดะฐะฝะฝัั
DB_PASS=postgres
# ะะพััะฐ ััะฟะตัะฟะพะปัะทะพะฒะฐัะตะปั (ะธัะฟะพะปัะทัะตััั ะฟัะธ ะฐะฒัะพะธะฝะธัะธะฐะปะธะทะฐัะธะธ)
SUPERUSER_EMAIL="root@example.com"
# ะะฐัะพะปั ััะฟะตัะฟะพะปัะทะพะฒะฐัะตะปั
SUPERUSER_PASSWORD="root"
# ะะฝะตัะฝะธะน ะฟะพัั Redis
REDIS_EXPOSED_PORT=6379
# ะะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ ะดะปั Uvicorn
UVICORN_WORKERS=2
```

### 3. ะะฐะฟััะบ ั Docker
```bash
docker-compose up --build
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```
python-fastapi/
 โโโ alembic/        # ะะธะณัะฐัะธะธ Alembic
 โโโ screenshots/    # ะกะบัะธะฝัะพัั Swagger Ui
 โโโ src/            # ะััะพะดะฝัะน ะบะพะด ะฟัะธะปะพะถะตะฝะธั
 โ   โโโ auth/       # ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั
 โ   โ   โโโ router.py
 โ   โ   โโโ schemas.py
 โ   โโโ position/   # ะะพะณะธะบะฐ ะฟะพะทะธัะธะน
 โ   โ   โโโ router.py
 โ   โ   โโโ schemas.py
 โ   โโโ user/       # ะะพะณะธะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
 โ   โ   โโโ router.py
 โ   โ   โโโ schemas.py
 โ   โโโ vacation/   # ะะพะณะธะบะฐ ะพัะฟััะบะพะฒ
 โ   โ   โโโ router.py
 โ   โ   โโโ schemas.py
 โ   โโโ services/   # Redis
 โ   โ   โโโ redis.py
 โ   โโโ utils/      # ะฃัะธะปะธัั
 โ   โ   โโโ logger.py
 โ   โ   โโโ create_superuser.py
 โ   โโโ database.py     # ะะพะดะบะปััะตะฝะธะต ะบ ะะ
 โ   โโโ databasemodels.py # ะะฟัะตะดะตะปะตะฝะธะต ะผะพะดะตะปะตะน SQLAlchemy
 โ   โโโ main.py         # ะะปะฐะฒะฝัะน ัะฐะนะป FastAPI
 โ   โโโ config.py       # ะะพะฝัะธะณััะฐัะธั ะฟัะพะตะบัะฐ
 โโโ tests/           # ะขะตััั
 โโโ .dockerignore    # ะะณะฝะพัะธััะตะผัะต ัะฐะนะปั ะฒ Docker
 โโโ .gitignore       # ะะณะฝะพัะธััะตะผัะต ัะฐะนะปั ะฒ Git
 โโโ Dockerfile       # ะะพะฝัะธะณััะฐัะธั Docker
 โโโ alembic.ini      # ะะพะฝัะธะณััะฐัะธั Alembic
 โโโ docker-compose.yaml  # ะะพะฝัะธะณััะฐัะธั Docker Compose
 โโโ entrypoint.sh    # Bash ัะบัะธะฟั ะดะปั Dockerfile
 โโโ pytest.ini       # ะะพะฝัะธะณััะฐัะธั Pytest
 โโโ redis.conf       # ะะพะฝัะธะณััะฐัะธั Redis
 โโโ requirements.txt # ะกะฟะธัะพะบ ะทะฐะฒะธัะธะผะพััะตะน
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั API

Swagger UI ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั:

```
http://localhost:8000/docs
```

ReDoc ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั:

```
http://localhost:8000/redoc
```

### Swagger UI

![Swagger UI](screenshots/swagger_ui.png)


## โ ะขะตััะธัะพะฒะฐะฝะธะต
```bash
pytest
```

